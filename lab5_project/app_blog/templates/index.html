{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="hero">
    <h1>Персональний блог</h1>
    <p>Цікаві історії, корисні поради та натхнення щодня</p>
</section>

{% if categories %}
<nav class="navbar navbar-expand-md navbar-light bg-light rounded mb-4" role="navigation">
    <div class="container-fluid">
        <span class="navbar-brand">Категорії</span>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#categoriesNav" aria-controls="categoriesNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="categoriesNav">
            <div class="navbar-nav">
                {% for item in categories %}
                    <a class="nav-link" href="{{ item.get_absolute_url }}">{{ item.category }}</a>
                {% endfor %}
            </div>
        </div>
    </div>
</nav>
{% endif %}

{% if articles %}
<section class="cards">
    {% for item in articles %}
    <article class="card">
        <div class="card-image">
            {% if item.images.all %}
                <img src="{{ item.images.all.0.image.url }}" alt="{{ item.title }}">
            {% endif %}
        </div>
        <div class="card-body">
            <span class="tag">{{ item.category }}</span>
            <span class="date">{{ item.pub_date|date:"j M Y" }}</span>
            <h3 class="card-title">{{ item.title }}</h3>
            <p class="card-text">{{ item.description|safe|escape|striptags|truncatewords_html:18 }}</p>
            <a class="btn" href="{{ item.get_absolute_url }}">Читати далі →</a>
        </div>
    </article>
    {% endfor %}
</section>
{% endif %}

<div class="center">
    <a class="btn btn-wide" href="{% url 'articles-list' %}">Всі публікації</a>
</div>
{% endblock %}
